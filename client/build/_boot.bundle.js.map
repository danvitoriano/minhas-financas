{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/app/_boot.js","webpack:///./js/app/controller/FinancaController.js","webpack:///./js/app/helpers/DateHelper.js","webpack:///./js/app/models/Financa.js","webpack:///./js/app/models/ListaFinancas.js","webpack:///./js/app/models/Notificacao.js","webpack:///./js/app/views/NotificacaoView.js","webpack:///./js/app/views/View.js","webpack:///./js/app/views/FinancasView.js","webpack:///./js/app/services/FinancaService.js"],"names":["financaController","FinancaController","document","querySelector","onsubmit","adiciona","bind","onclick","importaFinancas","apaga","$","_inputItem","_inputData","_inputQuantidade","_inputValor","_listaFinancas","ListaFinancas","_financasView","FinancasView","update","_notificacao","Notificacao","_notificacaoView","NotificacaoView","evento","preventDefault","_criaFinanca","texto","_limpaFormulario","console","log","DateHelper","textoParaData","value","Financa","esvazia","financaService","FinancaService","getFinancasSemana","then","financas","map","financa","err","error","Error","data","getDate","getMonth","getFullYear","Date","split","item","indice","quantidade","valor","_item","_data","getTime","_quantidade","_valor","Object","freeze","connection","indexedDb","openRequest","window","indexedDB","open","onupgradeneeded","e","minhaConnection","target","result","objectStoreNames","contains","deleteObjectStore","createObjectStore","autoIncrement","onsuccess","onerror","_financas","transaction","store","objectStore","request","add","push","concat","_texto","elemento","model","View","_elemento","modelo","innerHTML","template","dataParaTexto","total","join","reduce","acc","Promise","resolve","reject","fetch","res","json"],"mappings":"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","file":"_boot.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { FinancaController } from './controller/FinancaController'\n\nlet financaController = new FinancaController();\n\ndocument.querySelector('form').onsubmit = financaController.adiciona.bind(financaController)\ndocument.querySelector('#btn-import').onclick = financaController.importaFinancas.bind(financaController)\ndocument.querySelector('#btn-apaga').onclick = financaController.apaga.bind(financaController)","import { DateHelper } from '../helpers/DateHelper'\nimport { Financa } from '../models/Financa'\nimport { ListaFinancas } from '../models/ListaFinancas'\nimport { Notificacao } from '../models/Notificacao'\nimport { NotificacaoView } from '../views/NotificacaoView'\nimport { FinancasView } from '../views/FinancasView'\nimport { FinancaService } from '../services/FinancaService'\n\nexport class FinancaController {\n    constructor() {\n        let $ = document.querySelector.bind(document)\n        this._inputItem = $(\"#item\")\n        this._inputData = $(\"#data\")\n        this._inputQuantidade = $(\"#quantidade\")\n        this._inputValor = $(\"#valor\")\n\n        this._listaFinancas = new ListaFinancas()\n        this._financasView = new FinancasView($(\"#financasView\"))\n        this._financasView.update(this._listaFinancas)\n\n        this._notificacao = new Notificacao()\n        this._notificacaoView = new NotificacaoView($(\"#notificacaoView\"))\n        this._notificacaoView.update(this._notificacao)\n    }\n\n    adiciona(evento) {\n        evento.preventDefault()\n        this._listaFinancas.adiciona(this._criaFinanca())\n        this._financasView.update(this._listaFinancas)\n        this._notificacao.texto = \"Finança adicionada 2\"\n        this._notificacaoView.update(this._notificacao)\n        this._limpaFormulario()\n    }\n\n    _criaFinanca() {\n        console.log(DateHelper.textoParaData(this._inputData.value))\n        return new Financa(this._inputItem.value, DateHelper.textoParaData(this._inputData.value), this._inputQuantidade.value, this._inputValor.value)\n    }\n\n    _limpaFormulario() {\n        this._inputItem.value = \"\"\n        this._inputData.value = \"\"\n        this._inputQuantidade.value = \"\"\n        this._inputValor.value = \"\"\n        // this._inputItem.focus()\n    }\n\n    apaga() {\n        this._listaFinancas.esvazia()\n        this._financasView.update(this._listaFinancas)\n    }\n\n    importaFinancas() {\n        let financaService = new FinancaService()\n        financaService.getFinancasSemana()\n            .then(\n                financas => financas.map(\n                    financa => {\n                        this._listaFinancas.adiciona(financa)\n                        this._financasView.update(this._listaFinancas)\n                        this._notificacao.texto = \"Finanças da semana importadas\"\n                        this._notificacaoView.update(this._notificacao)\n                    }\n                )\n            )\n            .catch(err => {\n                console.error(err)\n                return\n            })\n\n    }\n\n}","export class DateHelper {\n\n    constructor() {\n        throw new Error(\"Esta classe não pode ser instanciada\")\n    }\n\n    static dataParaTexto(data) {\n        return `${data.getDate()}/${data.getMonth() + 1}/${data.getFullYear()}`\n    }\n\n    static textoParaData(texto) {\n        return new Date(...texto.split('-').map(\n            (item, indice) => item - indice % 2\n        ))\n    }\n}","export class Financa {\n\n    constructor(item, data, quantidade, valor) {\n        this._item = item\n        this._data = new Date(data.getTime())\n        this._quantidade = quantidade\n        this._valor = valor\n        Object.freeze(this)\n    }\n\n    get item() {\n        return this._item\n    }\n\n    get data() {\n        return new Date(this._data.getTime())\n    }\n\n    get quantidade() {\n        return this._quantidade\n    }\n\n    get valor() {\n        return this._valor\n    }\n\n    get total() {\n        return this._quantidade * this._valor\n    }\n\n\n\n\n}","export class ListaFinancas {\n    constructor() {\n    this.connection;\n    this.indexedDb = \"DB\";\n    this.openRequest = window.indexedDB.open(this.indexedDb, 1);\n\n\n    this.openRequest.onupgradeneeded = (e) => {\n        let minhaConnection = e.target.result;\n        if (minhaConnection.objectStoreNames.contains(this.indexedDb)) {\n          minhaConnection.deleteObjectStore(this.indexedDb);\n        }\n        minhaConnection.createObjectStore(this.indexedDb, {\n          autoIncrement: true,\n        });\n      };\n      this.openRequest.onsuccess = (e) => {\n        this.connection = e.target.result;\n      };\n      this.openRequest.onerror = (e) => {\n        console.log(e.target.error);\n        // faça algo com o erro\n      };\n        this._financas = []\n    }\n\n    adiciona(financa) {\n      \n       let transaction = this.connection.transaction([this.indexedDb], \"readwrite\")\n        let store = transaction.objectStore(this.indexedDb)\n        var request = store.add(financa)\n        \n        this._financas.push(financa)\n        console.log(financa)\n      \n    }\n\n    esvazia() {\n        this._financas = [];\n    }\n\n    get financas() {\n        return [].concat(this._financas)\n    }\n}","export class Notificacao {\n    constructor(texto = '') {\n        this._texto = texto\n    }\n\n    get texto() {\n        return this._texto\n    }\n\n    set texto(texto) {\n        this._texto = texto\n    }\n}","import { View } from './View'\n\nexport class NotificacaoView extends View {\n    constructor(elemento) {\n        super(elemento)\n    }\n\n    template(model) {\n\n        return model.texto ? `<p class=\"alert alert-primary my-3\">${model.texto}</p>` : `<p></p>`\n    }\n\n}","export class View {\n    constructor(elemento) {\n        this._elemento = elemento\n    }\n\n    template() {\n        throw new Error('O método template deve ser implementado')\n    }\n\n    update(modelo) {\n        this._elemento.innerHTML = this.template(modelo)\n    }\n}","import { View } from './View'\nimport { DateHelper } from '../helpers/DateHelper'\n\nexport class FinancasView extends View {\n  constructor(elemento) {\n    super(elemento)\n  }\n\n  template(model) {\n\n    return `<table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Item</th>\n            <th scope=\"col\">Data</th>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">$</th>\n            <th scope=\"col\">=</th>\n          </tr>\n        </thead>\n        <tbody>\n            ${model.financas.map(\n      financa => {\n        return `<tr>\n                    <td>${financa.item}</td>\n                    <td>${DateHelper.dataParaTexto(financa.data)}</td>\n                    <td>${financa.quantidade}</td>\n                    <td>${financa.valor}</td>\n                    <td>${financa.total}</td>\n                  </tr>`\n      }\n    ).join(\"\")\n      }\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"4\"></td>\n            <td>${model.financas.reduce((acc, financa) => acc + financa.total, 0.0)}</td>\n          </tr>\n        </tfoot>\n      </table>`\n  }\n\n}","import { Financa } from '../models/Financa'\n\nexport class FinancaService {\n    getFinancasSemana() {\n        return new Promise(\n            (resolve, reject) => {\n                fetch('https://evening-badlands-20922.herokuapp.com/financas/anterior')\n                    .then(res => res.json())\n                    .then(financas => {\n                        resolve(\n                            financas.map(\n                                financa => new Financa(\n                                    financa.item,\n                                    new Date(financa.data),\n                                    financa.quantidade,\n                                    financa.valor\n                                )\n                            )\n                        )\n                    })\n                    .catch(err => {\n                        console.error(err)\n                        reject(\"deu ruim\")\n                    })\n\n\n            }\n        )\n    }\n}"],"sourceRoot":""}